<div class="subcategory-overview" [class.dark-mode]="themeService.isDarkMode">
  <!-- Italicized Header -->
  <div class="category-header-text">
    <h2 class="category-title"><em>Choose from <span class="category-name">{{ category.label }}</span>:</em></h2>
  </div>

  <!-- Subcategory List -->
  <div class="subcategory-list">
    <div 
      *ngFor="let sub of subcategories"
      class="subcategory-list-item"
      [ngStyle]="{
        borderColor: sub.color,
        background: sub.pastelColor
      }"
      (click)="toggleSubcategory(sub.id)"
    >
      <span class="subcategory-list-label">{{ sub.label }}</span>
      <span class="subcategory-toggle-circle" [class.selected]="isSelected(sub.id)" [style.borderColor]="sub.color">
        <svg *ngIf="isSelected(sub.id)" width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="9" fill="currentColor" stroke="none" />
          <polyline points="7 12 10 15 15 9" stroke="#fff" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <svg *ngIf="!isSelected(sub.id)" width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="currentColor" stroke-width="2">
          <!-- Empty circle for unselected state -->
        </svg>
      </span>
    </div>
  </div>

  <!-- Save Button -->
  <button class="save-btn" (click)="onSave()">Save</button>
</div>
